!function(a,b){"use strict";!function(){window.console||(window.console={});for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=0;b<a.length;b++)window.console[a[b]]||(window.console[a[b]]=function(){})}(),"function"==typeof define&&define.amd?define(b):"undefined"!=typeof exports?module.exports=b():a.UISettingsManager=b()}(this,function(){"use strict";return function(a){var b=a||new TemplateManager,c=function(a){var b=jQuery("[data-setting-name="+a+"]"),c=b.length,d=b;return 0===c?(console.warn("No UI elements found for",a),d=null):c>1&&(console.warn("Multiple UI elements found for",a),d=null),d},d=function(a,b){console.warn("Could not manipulate setting",a,b,"because no matching UI element is present in the DOM")},e=function(a,b){var e=c(a);null!==e?e.val(b):d(a,b)},f=function(a,b){var f=c(a);null!==f?"checkbox"===f[0].type?f.prop("checked",b):e(a,b):d(a,b)},g=function(a,b){e(a,b)},h=function(a){jQuery.each(a,function(a,h){if("boolean"==typeof h)f(a,h);else if(jQuery.isArray(h)){var i=c(a);null!==i?jQuery.each(h,function(a,c){var d,e,f,g,h;h=jQuery(b.get(i.data("template-name")).process()),i.append(h),d=h.find("[data-setting-array-key]"),e=h.find("[data-setting-array-value]"),f=d.data("setting-array-key"),g=e.data("setting-array-value"),d.val(c[f]),e.val(c[g])}):d(a,h)}else jQuery.isNumeric(h)?g(a,h):"string"==typeof h?e(a,h):console.error("Unknown setting type",a,h,typeof h)})},i=function(a){var b=a.data("setting-name"),c=a.val();if("boolean"===a.data("setting-type")||"checkbox"===a[0].type)c="checkbox"===a[0].type?a.is(":checked"):"true"===a.val().toLowerCase();else if("number"===a.data("setting-type")||"number"===a[0].type)c=parseInt(a.val());else if("string"===a.data("setting-type")||"text"===a[0].type)c=a.val();else if("array"===a.data("setting-type")){var d=a.find("[data-setting-array-id]"),e=[];d.each(function(a,b){var c=jQuery(b),d=c.find("[data-setting-array-key]"),f=c.find("[data-setting-array-value]"),g=d.data("setting-array-key"),h=d.val(),i=f.data("setting-array-value"),j=f.val(),k=d.data("setting-array-key-validate"),l={};l[g]=h,l[i]=j,(0!==h.trim().length||"empty:ignore"!==k)&&e.push(l)}),c=e}else console.warn("Unknown data type for setting",b,c),c=a.val();return c},j=function(){var a={};return jQuery("[data-setting-name]").each(function(b,c){var d=jQuery(c),e=d.data("setting-name"),f=i(d);a[e]=f}),a};return{getUserSpecifiedSettings:j,populateUserSpecifiedSettings:h}}});
//# sourceMappingURL=UISettingsManager.min.js.map