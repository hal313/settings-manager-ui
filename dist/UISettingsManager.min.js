!function(a,b){"use strict";!function(){try{if(!console&&"undefined"!=typeof window){window.console||(window.console={});for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=0;b<a.length;b++)window.console[a[b]]||(window.console[a[b]]=function(){})}}catch(c){}}(),"function"==typeof define&&define.amd?define(b):"undefined"!=typeof exports?module.exports=b():a.UISettingsManager=b()}(this,function(){"use strict";var a=function(b){if(!(this instanceof a))return new a(b);var c=b||new TemplateManager,d=function(a){var b=jQuery("[data-setting-name="+a+"]"),c=b.length,d=b;return 0===c?(console.warn("No UI elements found for",a),d=null):c>1&&(console.warn("Multiple UI elements found for",a),d=null),d},e=function(a,b){console.warn("Could not manipulate setting with value",b,"because no matching UI element is present in the DOM")},f=function(a,b){null!==a?a.val(b):e(a,b)},g=function(a,b){null!==a?"checkbox"===a[0].type?a.prop("checked",b):f(a,b):e(a,b)},h=function(a,b){f(a,b)},i=function(a,b){a.find("[data-setting-object-member]").each(function(a,c){var d=$(c),e=d.data("setting-object-member"),i=d.data("setting-type")||"string";"string"===i?f(d,b[e]):"number"===i?h(d,b[e]):"boolean"===i||"bool"===i?g(d,b[e]):(console.log("Unable to establish type for",e,"falling back to 'string'"),f(d,b[e]))})},j=function(a,b){var d,e,f=a.data("template-name"),g=c.get(f);$.each(b,function(b,c){var f=[];$.each(c,function(a,b){f.push({regex:a,replacement:b})}),d=g.process(f),e=$(d),a.append(e),i(e,c)})},k=function(a,b){f(d(a),b)},l=function(a,b){g(d(a),b)},m=function(a,b){h(d(a),b)},n=function(a,b){i(d(a),b)},o=function(a,b){j(d(a),b)},p=function(a){return a.val()},q=function(a){return"checkbox"===a[0].type?a.is(":checked"):"true"===a.val().toLowerCase()},r=function(a){return parseInt(p(a))},s=function(a){var b={};return a.find("[data-setting-object-member]").each(function(a,c){var d,e=$(c),f=e.data("setting-object-member"),g=e.data("setting-object-member-validate"),h=e.data("setting-type")||"string";"string"===h?d=p(e):"number"===h?d=r(e):("boolean"===h||"bool"===h)&&(d=q(e)),f&&0!==f.trim().length&&("empty(value):ignore"===g?d&&0!==d.trim().length&&(b[f]=d):b[f]=d)}),b},t=function(a){var b=[],c=a.find("[data-setting-object-element]");return c.each(function(a,c){var d=jQuery(c),e=d.data("setting-object-member-validate"),f=s(d);"empty(object):ignore"===e?0!==Object.getOwnPropertyNames(f).length&&b.push(f):b.push(f)}),b},u=function(a){var b=a.data("setting-name"),c=a.val();return"boolean"===a.data("setting-type")||"bool"===a.data("setting-type")||"checkbox"===a[0].type?c=q(a):"number"===a.data("setting-type")||"number"===a[0].type?c=r(a):"string"===a.data("setting-type")||"text"===a[0].type?c=p(a):"object"===a.data("setting-type")?c=s(a):"objectarray"===a.data("setting-type")?c=t(a):(console.warn("Unknown data type for setting",b,c),c=a.val()),c},v=function(a,b){"boolean"==typeof b?l(a,b):jQuery.isArray(b)?o(a,b):jQuery.isNumeric(b)?m(a,b):"string"==typeof b?k(a,b):"object"==typeof b?n(a,b):console.error("Unknown setting type",a,b,typeof b)},w=function(){var a={};return jQuery("[data-setting-name]").each(function(b,c){var d=jQuery(c),e=d.data("setting-name");a[e]=u(d)}),a},x=function(a){jQuery.each(a,function(a,b){v(a,b)})};return{getSettingsFromUI:w,putSettingsIntoUI:x}};return a.version="2.0.2",a});
//# sourceMappingURL=UISettingsManager.min.js.map