<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>SettingManagerUI Test</title>
        <link rel="stylesheet" type="text/css" href="//stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="playground.css">
    </head>

    <body>
        <div class="container-fluid">
            <!-- // Header -->
            <div class="row">
                <div class="col-md-12 text-center">
                    <h2>Settings Manager UI Playground<br><small>Test your code</small></h2>
                </div>
            </div>

            <!-- // Top row -->
            <div class="row">
                <!-- // Settings input -->
                <div class="col-md-4">
                    <h5>Settings</h5>
                    <div id="settings-editor" class="grid-item editor">{
    "Name": {
        "First": "Joe",
        "Last": "Smith"
    },
    "Human": true,
    "Age": 23,
    "Nickname": "the sideshow"
}</div>
                    <button id="set-settings-button" class="btn btn-primary">Set Settings</button>
                </div>
                <!-- // The JavaScript editor -->
                <div class="col-md-4">
                    <h5>JavaScript</h5>
                    <form>
                        <div class="form-group">
                            <div id="javascript-editor" class="grid-item editor">/**
 * Put code in here to modify the SettingsManagerUI instance before settings are rendered in the DOM.
 *
 * @param {SettingsManagerUI} settingsManagerUI the instance of the settingsManagerUI to be used,
 *                                               use for decorating
 * @param {Function} getNameFromElement a helper that can be used to get the setting name from an element
 */
(function(settingsManagerUI, getSettingsName) {

    settingsManagerUI.addTypeDecorator('^(string|number).*', (element) => {
        // Render something that looks like:
        //
        // &lt;div class="form-group"&gt;
        //     &lt;label for="Name""&gt;Name"&lt;/label"&gt;
        //     &lt;input name="Name" type="text" value="Joe" class="form-control" id="Name""&gt;
        // &lt;/div"&gt;


        // Get the element name
        let elementName = getNameFromElement(element);

        // Create a containing element
        let containingElement = document.createElement('div');
        // Add the "form-group" class to the list (for Bootstrap rendering)
        containingElement.classList.add('form-group');

        // Create a label element
        let labelElement = document.createElement('label');
        // Assign the "for" attribute
        labelElement.setAttribute('for', elementName);
        // Add in the text content
        labelElement.textContent = elementName;
        // Add the label to the containing element
        containingElement.appendChild(labelElement);

        // Add the "form-group" class to the list (for Bootstrap rendering)
        element.classList.add('form-control');
        // Set the "name" and "id" attributes
        element.setAttribute('name', elementName);
        element.setAttribute('id', elementName);
        // Add the value element to the containing element
        containingElement.appendChild(element);

        // Return the containing element
        return containingElement;
    });

    settingsManagerUI.addTypeDecorator('^boolean.*', (element) => {
        // Render something that looks like:
        //
        // &lt;div class="checkbox"&gt;
        //     &lt;label&gt;
        //         &lt;input type="checkbox" value=""&gt;
        //         Setting Name
        //     &lt;/label&gt;
        // &lt;/div&gt;

        // Get the element name
        let elementName = getNameFromElement(element);

        // Create a containing element
        let containingElement = document.createElement('div');
        // Add the "checkbox" class to the list
        containingElement.classList.add('checkbox');


        // Create a label element
        let labelElement = document.createElement('label');
        // Add the element being decorated
        labelElement.appendChild(element);
        // Add the name of the value as a text node
        labelElement.appendChild(document.createTextNode(elementName));

        // Add the label to the container
        containingElement.appendChild(labelElement);

        // Return the container
        return containingElement;
    });

})(settingsManagerUI, getSettingsName);</div>
                        </div>
                    </form>
                </div>

                <!-- // The HTML editor -->
                <div class="col-md-4">
                    <h5>HTML</h5>
                    <form>
                        <div class="form-group">
                            <div id="html-editor" class="grid-item editor">&lt;!-- Your settings content will be injected into the HTML element
     with the id "settings-root" --&gt;

&lt;!-- Try adding the class "form-inline" to the form element --&gt;

&lt;!-- &lt;form class=&quot;form-inline&quot;&gt; --&gt;
&lt;form&gt;

    &lt;div id="settings-root"
            data-setting-container=""
            data-setting-type="object"&gt;&lt;/div&gt;
&lt;/form&gt;</div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- // The second row -->
            <div class="row" id="results-row">
                <!-- // Settings render area -->
                <div class="col-md-12">
                    <div class="grid-item grid-item-settings-canvas">
                        <div id="html-root"></div>
                        <!-- <form>
                            <div id="settings-root" data-setting-container="" data-setting-type="object"></div>
                        </form> -->
                        <button class="btn btn-primary" id="update-settings-button">Update</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- // Load the scripts -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js"></script>
        <script type="module" src="./playground.js"></script>
    </body>
</html>